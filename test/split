fn test(a b c expected)
{
    result = split(a b removeEmpty:c)
    if result != expected
    {
        echo("FAIL: "a" "b" "c": "result)
    }
}

target default
{
    test("a b c" " " false {"a" "b" "c"})
    test(" a b  c " " " false {"" "a" "b" "" "c" ""})
    test(" a b  c " " " true {"a" "b" "c"})

    echo("PASS")
}
